# 概要
splatoon3のバトルメモリーからデータを採取し、統計解析を行う。

## データ採取
バトルメモリーの再生直後、入力を受付ける時点から試合時間が[n:59](n=3, 5)になるまでに、カウントグラフ画面、メインギア画面を表示させる。
その後、俯瞰視点とスペシャルポイントの表示を固定する。キャプチャーボードから得られた映像にテンプレートマッチングを行う。得られるデータの見込みは以下の通り。
- [x] リザルト画面。（年月日日時、マッチ区分、ステージ、ルール、ブキ種、塗りポイント、キル（＋アシスト）回数、デス回数、スペシャル使用回数）
- [ ] グラフ画像。（カウントの変動、デス・スペシャルのタイミング）
- [ ] メインギア表示画面
- [x] プレイヤーの位置座標の時系列
- [ ] プレイヤーのスペシャル蓄積量の時系列

以下のようなCSVになる。
```csv
202312051644        # 年月日・日時
baigai              # ステージ名
x                   # マッチ区分
yagura              # ルール
spinner_hydrant,others,1098,16,3,4,win            # player α1: ブキ種、自他判定、塗りポイント、キル数、デス数、スペシャル回数、勝敗判定
maneuver_spla_collabo,others,1302,5,1,5,win       # player α2: （同上）
hude_pablo,others,1222,13,3,5,win                 # player α3: （同上）
shooter_h3_d,myself,878,6,1,3,win                 # player α4: （同上）
shelter_spy_sorella,others,1104,7,5,5,lose        # player β1: （同上）
maneuver_kelvin,others,850,8,11,4,lose            # player β2: （同上）
shooter_bottle_foil,others,1081,7,5,4,lose        # player β3: （同上）
shooter_52,others,987,6,9,5,lose               　 # player β4: （同上）
a_x,a_y,a_sp,a_life,b_x,b_y,b_sp,b_life,y_x,y_y,y_sp,y_life,x_x,x_y,x_sp,x_life,u_x,u_y,u_sp,u_life,r_x,r_y,r_sp,r_life,d_x,d_y,d_sp,d_life,l_x,l_y,l_sp,l_life
1675,196,6,1,1674,196,0,1,1670,149,0,1,nan,nan,0,1,186,781,nan,1,nan,nan,nan,1,167,873,nan,1,159,834,nan,1
nan,nan,6,1,nan,nan,9,1,1616,144,3,1,nan,nan,9,1,306,642,0,1,86,822,0,1,301,730,6,1,294,683,6,1
nan,nan,6,1,nan,nan,9,1,nan,nan,3,1,1571,164,6,1,344,632,0,1,126,814,0,1,345,722,6,1,338,669,6,1
```

（注意）ロビー端末上にて、バトル戦績ボタンを選択する。メモリープレイヤーボタンからのリザルト画面は未対応。バトルメモリー自体はどちらでもデータ採取可能。

### リザルト画面のみのデータ採取
プレイヤーの位置情報などを大量のフレームで処理するためGPUで並列化を行っている。
しかし、一部の画面（リザルト画面、グラフ画面、メインギア表示画面）のみのデータ採取を目的とする場合はCPU版の関数を利用するほうが手間が少ないと思う。( get_match_cpu.py getResultCpu() )

## データ解析




## 自動化のコード
自動化ツールは、最新のバトルメモリーから
一例として、NX Macro Controllさんの場合、以下のコードで実行できる。
"""
    後々アップロードする
"""
